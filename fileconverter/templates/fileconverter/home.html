<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
    <meta charset="UTF-8">
    <title>움짤 생성기</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'CSS/style.css' %}" media="screen">
    <script src='https://unpkg.com/vue/dist/vue.min.js'></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container" style="height:80px;"></div>
    <div id="app" class="container" v-cloak>
        <div class="panel panel-default">
            <div class="panel-heading"><b>Make GIF</b></div>
            <div class="panel-body">
                <button type="button" class="btn btn-secondary float-right btn-circle" data-container="body"
                    data-toggle="popover" data-placement="left" title="움짤 생성기 설명"
                    data-content="<li>동시에 2개의 동영상파일까지 gif변환 가능합니다.</li>
                    <li>동영상 파일 용량제한은 50MB입니다.</li>
                    <li>변환 가능한 파일형태는 mp4, webm, flv, avi, 등 다양한 동영상 파일 형태입니다.</li>
                    <li>fps25는 최대 12초, fps15는 최대 20초, fps10은 최대 30초까지 변환됩니다. </li>
                    <li>해상도가 크거나 프레임이 높을수록 변환시간이 오래 걸릴 수 있습니다.</li>" data-html="true">
                    i
                </button>
                <h3>움짤 생성기</h3>
                <div class="container empty" :class="{ ' hovered' : isHoverTrue }" @dragleave.prevent="onDragLeave"
                    @dragover.prevent="onDragOver" @drop.prevent="onDrop">
                    <div v-if="isHoverTrue == false" class="row">
                        <div class="col-sm center-block text-center height">
                        </div>
                        <div class="col-sm center-block text-center height pt-5">
                            <input class="file inputfile" type="file" id="image_uploads" multiple @change="add_files">
                            <label for="image_uploads"><strong id="searchfile">파일 찾기 </strong>
                                <span>또는 박스에 파일 끌어다 놓기</span>
                            </label>
                        </div>
                        <div class="col-sm center-block text-center height">
                        </div>
                    </div>
                </div>
                <br>
                <input class="form-control" :class="{' disappear' : isSelectTrue}" type="text" v-model="inputURL"
                    placeholder="동영상 URL입력">
                <br>
                <ol class="fileNames" style="list-style: none; padding-left:0px;">
                    <li v-for="(namecheck, index) in fileNamesWithCheck">
                        <div v-if="namecheck.fileName != 'default'" class="p-3 mb-2 bg-light text-dark">
                            <span>[[ namecheck.fileName ]]</span>
                            <button type="button" class="float-right close" aria-label="Close">
                                <span v-if="namecheck.fileUploaded"><a :href=namecheck.convertedFileUrl>움짤
                                        다운로드</a></span>
                                <span v-else aria-hidden="true" v-on:click="remove_todo(index)">&times;</span>
                            </button>
                        </div>
                        <div class="input-group mb-2" v-if="index==0 && namecheck.fileUploaded == false">
                            <select class="custom-select" id="inputGroupSelect02" v-model="fpsValue_1">
                                <option value="15">15fps</option>
                                <option value="25">25fps</option>
                                <option value="10">10fps</option>
                            </select>
                        </div>
                        <div class="input-group mb-2" v-if="index==1">
                            <select class="custom-select" id="inputGroupSelect02" v-model="fpsValue_2">
                                <option value="15">15fps</option>
                                <option value="25">25fps</option>
                                <option value="10">10fps</option>
                            </select>
                        </div>
                    </li>
                    <li v-if="fileSizeCheck">
                        <p>총 파일 크기: [[ returnedFileSize(fileSize) ]]</p>
                    </li>
                </ol>
                <div v-for="(converted, index) in forConvertButton" class="buttons">
                    <button v-if="converted.checkConverted==false" type="submit" class="btn btn-success"
                        v-on:click="uploadFiles()">업로드</button>
                    <button v-if="converted.nowLoading" class="btn btn-success" type="button" disabled>
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        <p>변환 중입니다. 해상도가 크고 fps가 높을수록 시간이 오래 걸릴 수 있습니다.</p>
                    </button>
                    <button v-if="converted.loadingDone" class="btn btn-success" type="button" disabled>변환완료</button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="{% static 'javaScript/doc_vue.js' %}" media="screen">
    </script>

</body>

</html>